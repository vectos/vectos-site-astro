---
interface Props {
  service: "legacy" | "audit" | "venture";
  title?: string;
  description?: string;
}

const { service, title, description } = Astro.props as Props;

// Core business services with their titles and hero images
const coreServices = {
  "legacy": {
    title: "Legacy Deprecation",
    description: "Upgrading, refactoring, and integrating legacy systems",
    image: "/img/services/legacy/hero.png",
    url: "/services/legacy"
  },
  "audit": {
    title: "Audit Your Tech",
    description: "Independent, expert assessment of your technical systems",
    image: "/img/services/audit/hero.png",
    url: "/services/audit"
  },
  "venture": {
    title: "Venture Development", 
    description: "End-to-end startup solutions from MVP to market validation",
    image: "/img/services/venture/hero.png",
    url: "/services/venture"
  }
};

const serviceData = coreServices[service];
const displayTitle = title || serviceData.title;
const displayDescription = description || serviceData.description;
---

<div
  class="group relative block bg-white rounded-lg border-2 border-indigo-400 overflow-hidden h-20 p-3"
>
  
  <!-- Content -->
  <div class="relative z-10 flex items-center h-full gap-4">
    <!-- Service icon/image -->
    <div class="flex-shrink-0">
      <img
        src={serviceData.image}
        alt={`${displayTitle} service`}
        class="w-32 h-32 object-cover object-center overflow-hidden"
      />
    </div>
    
    <!-- Text content -->
    <div class="flex-1 min-w-0">
      <h3 class="text-sm font-semibold text-gray-900 group-hover:text-indigo-600 transition-colors truncate">
        <a href={serviceData.url}>{displayTitle}</a>
      </h3>
      <p class="text-xs text-gray-600 truncate">
        {displayDescription}
      </p>
    </div>
    
    <!-- Arrow icon -->
    <div class="flex-shrink-0">
      <svg 
        class="w-4 px-4 h-4 text-gray-400 group-hover:text-indigo-600 transition-colors" 
        fill="none" 
        stroke="currentColor" 
        viewBox="0 0 24 24"
      >
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
      </svg>
    </div>
  </div>
</div>